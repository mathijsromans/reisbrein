{% extends "website/base.html" %}

{% load static %}
{% load bootstrap3 %}
{% load reisbrein %}

{% block title %}Reisadvies {{ block.super }}{% endblock %}

{% block content %}
<div class="container">

  <div class="row">
    <div class="col-sm-12" align="center">
      <h4>{{ start }} - {{ end }}</h4>
    </div>
  </div>

  <div class="row">
    <div class="col-md-8 col-md-offset-2">

      {% for result in results %}
      <div class="row">

        <div class="col-xs-1 col-sm-1">
          <span style="font-size: 16px; line-height: 30px;">
            {{ result.travel_time_str }}
          </span>
        </div>

        <div class="col-xs-11 col-sm-11">

          <div class="progress" style="height: 30px; margin-bottom: 5px; width: {{ result.travel_time_percentage }}%">
          {% for segment in result.segments %}
            {% transport_type_icon segment.type as icon %}
            {% transport_type_color segment.type as color %}
            <div class="progress-bar progress-bar-{{ color }}" role="progressbar" aria-valuenow="{{ segment.travel_time_percentage }}" aria-valuemin="0" aria-valuemax="100"
                 style="width: {{ segment.travel_time_percentage }}%">
              <span style="font-size: 16px; line-height: 30px;">
                <span class="fa {{ icon }}"></span>
              </span>
            </div>
          {% endfor %}
          </div>

        </div>

      </div>
      {% endfor %}

    </div>
  </div>

  <div class="row">
    <div class="col-lg-10 col-offset-lg-1" align="center">
      <h4>Travel Info</h4>
    </div>

    <div class="col-lg-12">
      <section id="cd-timeline" class="cd-container">

        <div class="cd-timeline-block">

          <div class="cd-timeline-img text-center bg-info">
            <span style="font-size:24px;" class="fa fa-paper-plane"></span>
          </div>

          <div class="panel panel-primary cd-timeline-content">

            <div class="panel-heading panel-heading-timeline">
              <div class="row" align="center">
                <h4>{{ start }} - {{ end }}</h4>
              </div>
            </div>

          </div>

        </div>

        {% for segment in results.1.segments %}
          {% transport_type_icon segment.type as icon %}
          {% transport_type_color segment.type as color %}

          <div class="cd-timeline-block">
            <div class="cd-timeline-img text-center bg-{{ color }}">
              <span style="font-size:24px;" class="fa {{ icon }}"></span>
            </div>

            <div class="panel panel-default cd-timeline-content">

              <div class="panel-heading panel-heading-timeline">
                <div class="row">

                  <div class="col-xs-12" align="left">
                    <span class="visible-xs-inline visible-sm-inline">{{ segment.travel_time_str }} - </span><span>{{ segment.start.location }} - {{ segment.end.location }}</span>
                  </div>

                </div>
              </div>

              <div class="panel-body panel-body-timeline" align="center">
              </div>

              <span class="hidden-xs hidden-sm cd-date">
                {{ segment.travel_time_str }}
              </span>

            </div>
          </div>
        {% endfor %}

      </section>
    </div>

  </div>

  <script src="{% static 'js/timeline.js' %}"></script>

</div>
{% endblock %}
